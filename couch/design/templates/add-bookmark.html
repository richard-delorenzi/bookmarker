<html>
  <head>
    <meta charset="utf-8"> 
    <title>{{title}}</title>
    {{>scripts}}
  </head>
  <body>
    <h1>{{title}}</h1>
    <form class="flex">
      <div>
	Title:
	<input
	   class="stretch",
	   type="text",
	   data-bind="
	   value: title
	   ">
        </input>
      </div>
      <div>
	url:
	<input
	   class="stretch",
	   type="text",
	   data-bind="
	   value: url
	   ">
        </input>
      </div>
      <div>
	description:
	<input
	   class="stretch",
	   type="text",
	   data-bind="
	   value: description
	   ">
        </input>
      </div>

      <button data-bind="
	      enable: true,
	      click: save
	      ">
	save
      </button> ‚Üê currently not working
      
    </form>
  </body>
  <script>

/*This function is not the best it could be*/
function htmlDecoded(str){
    var temp=document.createElement("pre");
    temp.innerHTML=str;
    return (str=="") ? "" : temp.firstChild.nodeValue;
}

function addBookmarkModel(){
    self=this;

    self.title=ko.observable(htmlDecoded("{{bm_title}}"));
    self.url=ko.observable(htmlDecoded("{{bm_url}}"));
    self.description=ko.observable(htmlDecoded("{{bm_description}}"));
    self.all=ko.observable();
   
    self.save= function() {
	self.all( self.title()+ ", " +self.url()+ ", " +self.description() );
    }
}

ko.applyBindings(new addBookmarkModel());

  </script>
  {{<types-ko-templates}}
</html>
